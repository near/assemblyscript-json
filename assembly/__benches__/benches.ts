import * as JSON from "../JSON";

const integer = blackbox("1234567890");
bench("integer parse", () => {
  blackbox(JSON.parse(integer));
});

const integerObj = JSON.parse(integer);
bench("integer stringify", () => {
  blackbox(integerObj.stringify());
});

const float = blackbox("1.234567890e+5");
bench("float parse", () => {
  blackbox(JSON.parse(float));
});

const floatObj = JSON.parse(float);
bench("float stringify", () => {
  blackbox(floatObj.stringify());
});

// https://onlinerandomtools.com/generate-random-json
const array = blackbox("[[[1667800574.9022226,[[[[[1029003990.977696,[1479771511.3828654,1399602545,[[[737450042,-45739245,[[2065817567,[[[[[[-467813505.63274693,[-1446562708.6978118,-57458424.10971475,-1273557395,-202248398,1505039217,[1421059963,[-1101689451.8763905,[-149407609.47505498,[-1215024123,[835519489,646563364,-1928298224.6999843,[-131050480,[[[-275890289.672106,[853790940.657841,[-861307310,1268240198,2052516663,1140911906,751952003,[[[[293015823.65482163,[[[296529982,-494115647.0858476,2013620388.2841337,[[[1774868658.2041926,[[-748845782.6743839,[[[30452514.294870615,-1595588313.3854854,192017107,2131677744,1935711654.9888327,[[1015077681.8336978,964134212.0221705,[[[2119428812,-1926538652.1578636,1874753126,[218393679.48691845,2073869365.019034,-384726233.8409786,[[-1518077159,-1283406598.4512308,638345811.1231601,[[[-553995155.9318993,312658821.4872391,[1170847449,-940148639.4286239,[981689682.4823015,485878535,1813460873,2047742694.822706,1026824322.7840402,-1991135535.0218341],-588993782,1408354039,-828422667.1933298],-1305094638.2457633,-56571439.076952934,-1866539039.3351166],1522563963.6074986,629169398.093899,1752298162,1623289167.1379936,294590277],1153221785.2811954,344440419,755627941.7762933,-1989042349.4190216,-791909406],-2007133757.3035443,196057502],-135311332.84399867,678529541.3853118,1848189770,1391358845.4909623,662803282],530485314,-1764256331.2830777],-1784157121.976543,411162413],2117633885.5197964,384717118,-1574855472,195209092,-25354584.16322875],-168748792.55639958,-1775106186.0090597,-808393766.5345237,1688534821,164677115.64046097],-1513412085,1366195538,-1087438564.7098088],153506288.9194274,576555921.7016311,1604315376,301670624,-1394986153.415805]],-1850640984,-1338448326,-2147238209,1540562606,1322320358.0770884],816350491.3084853,981604694.807966,-1629853455.3957324,-442891056.20969987,486405304.7328193],823214865.5080302,-895334907.0805357,1154663655.7709212,-2132886591.6153343],-577136212,333434329.523175,2045164293,2048093068,-1862637599.4957685],-1770578443,274401787,-676841068.7526891,-727869613],481866222.2868271,1260424009.885804,11385719,91074876,1970214345],-1415034918,1973353932,-1399951742.7356434,367060166.33702683,1554180474],1982753709.8360124,2092352826.8247762],-1612894424,-156299593,716794832.0778477,1088183397,1515747787.3718767],-189550201.9948089,19328765,650037304,1840414116,271325028.0818248],-787533265.8800514,-535394998,-198249414,-59698726],-286839262,-1463149278.636898,399936394.7171273,-1005128134.064251,-575018417],1866700117.8133929,-764880574,1461794520.316387,-1522291045.3704698,-48799999.9685514],-1231315350.1795542,-123344314,-1143960333.262395,-1503604229,-664202246.1894906]],-78864742,-1656878458,-1201221135.129669,-1736759795],-1738600108,1829715340,-226522771,457627985.70077753],-999925522.5932038,2091562276.4337256,1497607498.024229,187263439.6377163,-1085925427],788584191.579035,186167629.8039708,1426745968.6657743,-2051575786,967381378],-86333841,720264529,1280144278.565485,-1183130441.4376779],1907424587,1553570280.3896797],-1583495974.6436481,-958489879,-1228227690,-541539352],-1924188951.4519844,-1080654252.135194,-1727215237.2174177,-1216306717.2622786],-1093766493.2064877,104570383.70393753,606274397,-1539376081],264420181.09677362,1206075164,1868818025.960043,1159382148.105436]],1762839321.5703533,1299952926,-94652344,-1469721270.6147661],-967717110.1760559,578921154,1696053662,-2077407062,-1359195765],635325676.624254,-1362997025.9568799,562285715,-731020383.3069334,-1101502923],-2005750282,-891472942,-1777368347.1146789,1963455528.878974,399506940],-1892925321.7019057,276928769,1094998604.2583077,-655443589,-536103873],607101508.5924654,1149059206.530374,1237502120.3864818,182786000,-744968086.2481236],-1134196713,-901359612.7296562,-2062780991,-768820914],-347701814.3697808,477631836,1825025874.0312445,2053406249,1175978185.0435464],-2093474871.0860407,160351204,-1131815909.9603107],-945851667.9561312,1381514588,1257599053.7205298,55778555,-63924855],2089062157,-631724209.4228399,476338192,1490569713,1208089611],1662919598,1533454216,-316733174.5863838],1356373196.0912104,178971844.87361836,-1315978717,959406615],-1183230851,-1205019710,-1253131343,1984616908,-1726064151.2257621],1389240699,-164239367.2226491,-179285739,305045508.5957191,-1979558511],1954856122.027144,1501083235.1950336,-699692795.4936368,1154261456,1124248398],1458963294.1775837,-1123116233.7788398,-1094490658.2581565,495300862,-366946205.06393385],-106813583.88201809,1323622342,-596623061.3625064,775472045],481856499.0042343,1687885299.8011525,1022880228.0011015,1022377455,1858864394],-1014193275,-978239300.8704255,-1964469147.5898795,-616031627.5402124,2010062250]");
bench("array parse", () => {
  blackbox(JSON.parse(array));
});

const arrayObj = JSON.parse(array);
bench("array stringify", () => {
  blackbox(arrayObj.stringify());
});

const stress = blackbox(`[{"qdWSi7q*)Z":"^8SL$J","9&25t)oXa":[false,["@iSKO$Hlg",259193704.93031,"T4Ag\\"$A!",[{"?]S:5[Ncz>":{"0":true,"cU,'i1d^%Q":{"@}\\"":"3A-t;\\"a{D",")tn2":true,"i":true,"B-eQ~|@":[-727871762.1487119,"^v",["Zgh/",[{"KpgF\`SM@":false,"f<fZ I~bS_":[false,[false,[{"8":true,"WPT_":[true,{"4d-@":["8","Pk2yT2OQ>2",{"T&@%3InOx":true,"TudXZ3%9\\"":1882551601.9182475,"W2@(?Up1 ":{"":-134364455.07081866,"p;7\\\\w!!":1764572938,"&AxE5r":{"6":1062493861.3183455,"5@1":-1136032358,"r+C^<":{"@>gHD+":"}h","'":true,".{O<v":[false,{"Gn6)\`5":{"=Dqg|9":true,"":{"?oi":{"Vg":"3#p~","":[[false,true,false,-1607460849,{"&m":{"%i^":"","$!Fs$?1L0":1793054450.2451382,"/~-aDv":2061723776.0631602,";\`TVV{M]":{"0X0t":-1359906160.1773727,"@'SpPSb":true,"0WA":"tXk<9","doE":-914611753.7502115,"4:R":false,"0I1":true},"/X/nOmB":-838387674,"M":true},"0LT9b":true,"N_Q":[false,".Ij",817772825.7085826,-937225656.1222105,"r!O0$R~",[false,"SVFr<9M#;F","Y-1!@2L",true,"Oa%R^c",["V+fGT/1$",-1543682422,false,{"%Vg5<@$":[true,{"+\\"\`X":-1104991986.7977355,"G(%\\\\=Jt":false,"&Q#%6":2133350002,"bWJ[r'D0":-2102732306.7669318,"vmi\\"{o|LM":false,"<Pjvh6|Rv'":134686825.95952964},"&N)%:#1,",{"$V":-185496739,"Z":{"&;8usT;/Z":false,"1Vl)7%":true,";E.!":-1742751791,"RiN5<oV;Y":{"G5":{"lWt\\"yL^":true,"q":true,"":1615878370.5337968,"v":1604365185.9479773,"C$":"t}8-WN","NCj<ba+wb":"E^^|U[+I"},"Wi~)H!y?e^":[-503502907,[[true,false,{"":-222556016,":BOp_7ySyJ":"X9JTUUb[W]","Z":false,"M'Bj%}}D9":{"+3 )hQ":"Xaa","Pm&x'\\"$JeM":true,"eB+":"","k.|[_Ah":2111772294,"&E-c":"@e2L1@'","k-h VWF":1668528360},"%O":[[{"Kc%j5-gL%^":true,"m%":-310670905.1971972,"|~##":"Q:)","Ws'GM<":[true,{"G.hQo9dS":{"]":{"\\"kzuf]R#M)":966529940.7814124,"Y q_^929u>":false,"?QC/[6v\`1":"R.&~p7A9","!+ZNDqMK4":false,"xK%]K/\`":"7","!>l":false},"U\\"{":"p25WUKwK^c","gTojJ[4/'":1742927946.277492,"":933392428.5161331,"i":true,"IM":"4VEDTFe~R"},"YW{faT":",Oz$ws#(o}","_":"VFYm)*F;u","":true,"AsbZt>/":1191715881},-1679306444,false,true,-1229863843.9346042],"@_rm:bb":470893088,"WQTM2":-717826447.2278321},"","D48>VJku",true,true,1105948434],",\`q}J","y3}6",true,")=h\\\\q#l@W","]!s\\"[j'E"],"_<<U\\\\F}":true},true,"N_(a",true],")",-795222038,true,-1550645615.7783353,false],"?) -xuKb'",true,false,"Z"],"0>9@X'uxgw":1510147565,")H);1)$Sge":"\`m2F","":true,"3?P\\\\":-1446631026.840093},"ZxJ":-1862888608.2699547,"*{":-1658732068.5402148},"":543314615.6306667,"&=u":-682912148.5590351,"|0!#t3g@>":false},true,true],"|5GC":-233845368,"\\\\CnVkud":"*iPk]<P%l&","]RnX":"hzoH",">T-":38678036.293468714,")":"wM5C"},-567122139,true]]],"+uX(GsZd":-1527677383.882021,"&[cKAh":true,"~%o1\`":""},1846423282],true,true,true,1213466337.1646383,"9_Zwg"],"1#":-530172499," ":1720715476,"e@}Gxt":"5r-","^M\\\\(z":true},"U9Wo/,hWC":false,"5FC":false,"XH\\"":"E?l","2^tKL":"i:Q#kxp","1O jR":true},"j":"j\\"y'cV ^e7","%5":false,"<G%j":true,"w!M3z4zRl":false},"b\\\\ok3p":-900843407.1558113,"+zFXTXq":"K,<}F4","XBqsjUY4~t":-204792383.34297562,"C?Y/N%SrmJ":true,"50IXr":false},true,false,"ok/","PI)xth<CVV"],"9wtH":"x:)E)qC","lW??~fV":"\`_<,eA'm1E","f{":"l:w$,/}["},"\\\\:>s":-42150979.09033656,"[nS@fZ[~":false,"a]ye4}=":723306452},"\\\\":false,"I":true},"u<7X@9":-1155464933,"mknLb;ysG":"yP","c]<-eM":"U52%(Ed*_"},false,1779226697.6564882,-600185119],"* #B2L,q9":-926506505,"":"0OaR","#.s1m &":false,"v":1327943517.4736578,"IEbTmw":false},false,false,false,"E3w)|Q3"],"":true,"~5VC1^|_W1":false,"L:4":-1229412208,"9W'+sOp":":Ve"},true,"P@Xw",true,-217964050,true],false,"SLK",true,false],false,false,-877002366,889120459.0931797],"MBl%>":true,"A;I+*":"K2Jyqu","4z?<96":-1016700143,".UE":true},"",true,"#<u",true,"}-)UCFm*"],"1.FmJE,","rE",-782205385,-1462300814.040626],"gNfTY(K","e,O9>qf",true],"Q\\\\Yq5.yl6":"<1*.=vIRmU",")Rd0":true},"gO%4":false,"q\\"$":false,"([}W":-470457641.0232587,"(=#,#":"e9hw2"},".@Gs":"YqO","NYhYUnb":false,"G6_=pt{~":-2023407204,"\\"ychb":"(UrT1(WdK","":-1447533468},"",588869587,true,true,"mg!O$y"],1606525404.6211996,true],142751719,true,"Z-BCn_qr7",true],"Zy92-K":"T","h9>":"V",".B\\"$W=h":"_jHUSZ'OW","Gs\\"'6":":I:f0'"},false,183086319.04254603,-1755374076,"$TbcUm]weY","A=Z{^#L="]`);
bench("stress test parse", () => {
  blackbox(JSON.parse(stress));
});

const stressObj = JSON.parse(stress);
bench("stress test stringify", () => {
  blackbox(stressObj.stringify());
});